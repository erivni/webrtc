version: '3.8'
services:
  transcontainer1:
    build: .
    ports:
      - "50000-50002:50000-50002/udp"
      - "5000:5000/udp"
    deploy:
      restart_policy:
        condition: any
      resources:
        limits:
          cpus: '1'
          memory: 256M

  transcontainer2:
    build: .
    ports:
      - "50003-50005:50000-50002/udp"
      - "5001:5000/udp"
    deploy:
      restart_policy:
        condition: any
      resources:
        limits:
          cpus: '1'
          memory: 256M

  transcontainer3:
    build: .
    ports:
      - "50006-50008:50000-50002/udp"
      - "5002:5000/udp"
    deploy:
      restart_policy:
        condition: any
      resources:
        limits:
          cpus: '1'
          memory: 256M

  examples:
    build:
      context: .
      dockerfile: Dockerfile-examples
    ports:
      - "9999:8080"
    deploy:
      restart_policy:
        condition: any
      resources:
        limits:
          cpus: '1'
          memory: 256M

